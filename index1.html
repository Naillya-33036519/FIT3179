<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Visualizations: Tourism Rates and Global Population Growth</title>
  
  <!-- Import Vega & Vega-Lite -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>
  
  <!-- CSS file -->
  <link rel="stylesheet" type="text/css" href="https://raw.githubusercontent.com/Naillya-33036519/FIT3179/main/css/styles.css" media="all">
</head>
<body>
  <h1>State Wise Tourism Rates in Malaysia</h1>
  <div id="choropleth_map"></div>

  <h1>Global Population Growth Over Time</h1>
  <div id="population_growth"></div>

  <script type="text/javascript">
    // Embed the first visualization (choropleth map)
    var spec2 = "https://raw.githubusercontent.com/Naillya-33036519/FIT3179/main/js/map.vg.json";  
    vegaEmbed('#choropleth_map', spec2).then(function(result) {
      console.log("Map loaded successfully");
    }).catch(function(error) {
      console.error("Error loading the map: ", error);
    });

    // Embed the second visualization (global population growth)
    var populationGrowthSpec = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "title": "Global Population Growth Over Time",
      "data": {
        "values": [
          {"Country": "China", "Year": 1950, "Population": 554005000, "Continent": "Asia"},
          {"Country": "China", "Year": 1960, "Population": 660330000, "Continent": "Asia"},
          {"Country": "China", "Year": 1970, "Population": 818315000, "Continent": "Asia"},
          {"Country": "China", "Year": 1980, "Population": 981235000, "Continent": "Asia"},
          {"Country": "China", "Year": 1990, "Population": 1133020000, "Continent": "Asia"},
          {"Country": "China", "Year": 2000, "Population": 1267320000, "Continent": "Asia"},
          {"Country": "China", "Year": 2010, "Population": 1344130000, "Continent": "Asia"},
          {"Country": "China", "Year": 2020, "Population": 1439323776, "Continent": "Asia"},
          {"Country": "India", "Year": 1950, "Population": 361000000, "Continent": "Asia"},
          {"Country": "India", "Year": 1960, "Population": 439235000, "Continent": "Asia"},
          {"Country": "India", "Year": 1970, "Population": 548159000, "Continent": "Asia"},
          {"Country": "India", "Year": 1980, "Population": 683329000, "Continent": "Asia"},
          {"Country": "India", "Year": 1990, "Population": 846387000, "Continent": "Asia"},
          {"Country": "India", "Year": 2000, "Population": 1028690000, "Continent": "Asia"},
          {"Country": "India", "Year": 2010, "Population": 1234280000, "Continent": "Asia"},
          {"Country": "India", "Year": 2020, "Population": 1380004385, "Continent": "Asia"},
          {"Country": "United States", "Year": 1950, "Population": 157553000, "Continent": "North America"},
          {"Country": "United States", "Year": 1960, "Population": 180671000, "Continent": "North America"},
          {"Country": "United States", "Year": 1970, "Population": 203984000, "Continent": "North America"},
          {"Country": "United States", "Year": 1980, "Population": 226542000, "Continent": "North America"},
          {"Country": "United States", "Year": 1990, "Population": 248709000, "Continent": "North America"},
          {"Country": "United States", "Year": 2000, "Population": 281421000, "Continent": "North America"},
          {"Country": "United States", "Year": 2010, "Population": 308745538, "Continent": "North America"},
          {"Country": "United States", "Year": 2020, "Population": 331002651, "Continent": "North America"},
          {"Country": "Brazil", "Year": 1950, "Population": 51910000, "Continent": "South America"},
          {"Country": "Brazil", "Year": 1960, "Population": 70700000, "Continent": "South America"},
          {"Country": "Brazil", "Year": 1970, "Population": 92500000, "Continent": "South America"},
          {"Country": "Brazil", "Year": 1980, "Population": 113800000, "Continent": "South America"},
          {"Country": "Brazil", "Year": 1990, "Population": 150000000, "Continent": "South America"},
          {"Country": "Brazil", "Year": 2000, "Population": 174000000, "Continent": "South America"},
          {"Country": "Brazil", "Year": 2010, "Population": 195000000, "Continent": "South America"},
          {"Country": "Brazil", "Year": 2020, "Population": 213993437, "Continent": "South America"},
          {"Country": "Nigeria", "Year": 1950, "Population": 28820000, "Continent": "Africa"},
          {"Country": "Nigeria", "Year": 1960, "Population": 45600000, "Continent": "Africa"},
          {"Country": "Nigeria", "Year": 1970, "Population": 69000000, "Continent": "Africa"},
          {"Country": "Nigeria", "Year": 1980, "Population": 87300000, "Continent": "Africa"},
          {"Country": "Nigeria", "Year": 1990, "Population": 105000000, "Continent": "Africa"},
          {"Country": "Nigeria", "Year": 2000, "Population": 126000000, "Continent": "Africa"},
          {"Country": "Nigeria", "Year": 2010, "Population": 152000000, "Continent": "Africa"},
          {"Country": "Nigeria", "Year": 2020, "Population": 206139589, "Continent": "Africa"}
        ]
      },
      "transform": [
        {
          "filter": {
            "param": "Continent",
            "type": "single",
            "field": "Continent",
            "empty": "none"
          }
        },
        {
          "calculate": "datum.Population / 1000000",  // Convert population to millions
          "as": "Population (million)"
        }
      ],
      "selection": {
        "Continent": {
          "type": "single",
          "fields": ["Continent"],
          "bind": {
            "input": "select",
            "options": [
              "All",
              "Asia",
              "North America",
              "South America",
              "Africa"
            ],
            "name": "Select Continent"
          }
        }
      },
      "mark": "line",
      "encoding": {
        "x": {
          "field": "Year",
          "type": "ordinal",
          "title": "Year",
          "axis": {
            "values": [1950, 1960, 1970, 1980, 1990, 2000, 2010, 2020],
            "labelOverlap": "parity",
            "labelPadding": 10
          }
        },
        "y": {
          "field": "Population (million)",
          "type": "quantitative",
          "title": "Population (million)",
          "axis": {
            "tickCount": 10,
            "grid": true
          }
        },
        "color": {
          "field": "Country",
          "type": "nominal",
          "scale": {"scheme": "category10"},
          "legend": {"title": "Country"}
        },
        "tooltip": [
          {"field": "Country", "title": "Country"},
          {"field": "Year", "title": "Year"},
          {"field": "Population (million)", "title": "Population (million)"}
        ]
      },
      "config": {
        "view": {
          "continuousWidth": 500,
          "continuousHeight": 200
        }
      }
    };

    vegaEmbed('#population_growth', populationGrowthSpec).then(function(result) {
      console.log("Population growth chart loaded successfully");
    }).catch(function(error) {
      console.error("Error loading population growth chart: ", error);
    });
  </script>
</body>
</html>
